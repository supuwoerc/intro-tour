"use strict";const n="[intro-tour]:";var t=(...t)=>{console.log(n,...t)},o=(...t)=>{console.error(n,...t)},e=(...t)=>{console.warn(n,...t)},i="<div> <span>划线</span> <span>评论</span> <span>复制</span> </div> ";module.exports=class{errorHandler=n=>{o(n)};warnHandler=n=>{e(n)};range=null;root=document.createElement("div");constructor(n={}){if(window.introTour)throw new Error("plugin has been initialized. Do not call it again");const{errorHandler:o,warnHandler:e}=n;o&&(this.errorHandler=o),e&&(this.warnHandler=e),this.initEvent(),this.initTooltip(),window.introTour=this,t("plugin initialization is complete!")}initTooltip=()=>{t(i),this.root.appendChild(function(...n){const t=document.createDocumentFragment();try{for(let o=0;o<n.length;o+=1){const e=n[o],i=document.createRange().createContextualFragment(e);t.appendChild(i)}}catch(n){o(n)}return t}(i)),this.root.className="intro-tour-outer-container",document.body.appendChild(this.root)};initEvent=()=>{document.addEventListener("mouseup",this.onMouseup)};onMouseup=()=>{const n=window.getSelection();if(n){const t=n.getRangeAt(0);t.collapsed?this.warnHandler("range is collapsed"):(this.range=t.cloneRange(),this.showTooltip(this.range))}};showTooltip=n=>{const o=n.getBoundingClientRect();t(o)}};
