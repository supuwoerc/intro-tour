!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t="undefined"!=typeof globalThis?globalThis:t||self).template=t.template||{},t.template.min=t.template.min||{},t.template.min.js=e())}(this,(function(){"use strict";const t="[intro-tour]:";var e=(...e)=>{console.log(t,...e)},n=(...e)=>{console.error(t,...e)},o=(...e)=>{console.warn(t,...e)};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".intro-tour-outer-container {\n  display: none;\n  cursor: pointer;\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: #fff;\n  text-align: center;\n  border-radius: 6px;\n  padding: 5px 8px; }\n  .intro-tour-outer-container.show {\n    display: block; }\n");return class{errorHandler=t=>{n(t)};warnHandler=t=>{o(t)};range=null;root=document.createElement("div");constructor(t={}){if(window.introTour)throw new Error("plugin has been initialized. Do not call it again");const{errorHandler:n,warnHandler:o}=t;n&&(this.errorHandler=n),o&&(this.warnHandler=o),this.initEvent(),this.initTooltip(),e("plugin initialization is complete!"),window.introTour=this}initTooltip=()=>{this.root.appendChild(function(...t){const e=document.createDocumentFragment();try{for(let n=0;n<t.length;n+=1){const o=t[n],i=document.createRange().createContextualFragment(o);e.appendChild(i)}}catch(t){n(t)}return e}("<div>\n    <span>123</span>\n    <span>评论</span>\n    <span>复制</span>\n</div>\n")),this.root.classList.add("intro-tour-outer-container"),document.body.appendChild(this.root)};initEvent=()=>{document.addEventListener("mousedown",this.onMousedown),document.addEventListener("mouseup",this.onMouseup),this.root.addEventListener("click",this.onMenuClick)};onMenuClick=t=>{t.stopPropagation(),t.preventDefault(),n(t)};onMouseup=()=>{const t=window.getSelection();if(t){const e=t.getRangeAt(0);e.collapsed?this.warnHandler("range is collapsed"):(this.range=e.cloneRange(),this.showTooltip(this.range))}};onMousedown=()=>{this.root.classList.remove("show")};showTooltip=t=>{const e=t.getBoundingClientRect(),{left:n,top:o}=e;this.root.classList.add("show"),this.root.style.left=`${n}px`,this.root.style.top=`${o}px`}}}));
